!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ventana",[],e):"object"==typeof exports?exports.ventana=e():t.ventana=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var o,r;o=[n,e,n(9),n(10),n(2),n(1),n(6),n(2),n(3),n(3)],r=function(t,e,n,o,r,i,u,a,c,f){"use strict";function p(t,e){d[t].push(e)}function s(t){var e={top:t.top+h,left:t.left+v,width:t.width,height:t.height};return e}function l(t){return t=t||{top:0,left:0,right:0,bottom:0},{top:h+t.top,left:v+t.left,height:m-t.top-t.bottom,width:y-t.left-t.right}}e.onViewport=i["default"],e.RAFQueue=u["default"],e.rafStream=a.raf,e.Stream=c["default"],e.stream=f.stream;var d={move:[],resize:[],destroy:[],hide:[],show:[]};n["default"].pipe(function(){d.move.forEach(function(t){t.call(null)})}),o["default"].pipe(function(){d.resize.forEach(function(t){t.call(null)})});var h=0,v=0,y=0,m=0;r.poll.pipe(function(t){h=t.scrollTop,v=t.scrollLeft,y=t.width,m=t.height}),e.on=p,e.mapBoundingRectToAbsolute=s,e.getWindowRect=l}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};o=[n,e,n(2),n(6),n(8)],r=function(t,e,n,o,r){"use strict";function u(t,e,n){var o=new a(t,e,n);c.push(o)}var a=function(t){function e(e,n,o){t.call(this),this.id=e,this.el=n,this.callback=o}return i(e,t),e}(r["default"]),c=new o["default"]("Viewport",function(t,e,n){var o=n.bcr.top<e.height&&n.bcr.top+n.bcr.height>0&&n.bcr.left<e.width&&n.bcr.left+n.bcr.width>0;return!n.inViewport&&o&&n.callback(),n.inViewport=o,t(n),n});n.raf.pipe(c),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};o=[n,e,n(3),n(4),n(5)],r=function(t,e,n,o,r){"use strict";var u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.write=function(e){var n=new r.Frame;n.phase=r.RAFPhase.MEASURE,n.scrollTop=o["default"].getScrollTop(),n.scrollLeft=o["default"].getScrollLeft(),n.width=o["default"].getWidth(),n.height=o["default"].getHeight(),t.prototype.write.call(this,n),n.phase=r.RAFPhase.MUTATE,t.prototype.write.call(this,n)},e}(n["default"]),a=new u("requestAnimationFrame");e.raf=a;var c=a.filter(function(t){return t.phase===r.RAFPhase.MEASURE?t:void 0});e.measure=c;var f=a.filter(function(t){return t.phase!==r.RAFPhase.MEASURE?t:void 0});e.poll=f;var p=function(){a.write(Date.now()),o["default"].rAF(p)};o["default"].rAF(p)}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";function n(t){return"function"==typeof t?new r(t):t instanceof r?t:void 0}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t[0]=t[0]||new r,t.length>1?r.join.apply(null,t.map(n)):t[0]}var r=function(){function t(t){var e=this;this.name=name,"function"==typeof t?t.call(this,function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];e.write.apply(e,t)}):"string"==typeof t&&(this.name=t),this.targets=[],this.targetEndpoints=[]}return t.prototype.write=function(e){var n=this;this.targets.forEach(function(o,r){o instanceof t?o.write(e):"function"==typeof o?n.targetEndpoints[r].write(o(e)):"function"==typeof o.tap&&o.tap(e)})},t.prototype.pipe=function(e){if(this.targets.push(e),e instanceof t)return this.targetEndpoints.push(null),e;if(e instanceof Function){var n=new t;return this.targetEndpoints.push(n),n}return this.targetEndpoints.push(null),e.toStream()},t.join=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var o=new Array(e.length);return new t(function(t){var n=this;e.forEach(function(t,e){t.pipe(function(t){o[e]=t,n.write(o)})})})},t.prototype.filter=function(e,n){var o=this,r="function"!=typeof e&&e,i=!!r,u=i?n:e;return new t(function(t){o.pipe(function(e){var n=i?u(r,e):u(e);n&&t(n)})})},t}();e.stream=o,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";function n(){var t="undefined"!=typeof document.scrollingElement;i.getScrollTop=t?function(){return document.scrollingElement.scrollTop}:function(){return window.scrollY},i.getScrollLeft=t?function(){return document.scrollingElement.scrollLeft}:function(){return window.scrollX},i.getHeight=function(){return window.innerHeight},i.getWidth=function(){return window.innerWidth}}var o="undefined"!=typeof window&&window&&"undefined"!=typeof document&&document,r=function(){return 0},i={};i.getScrollTop=i.getScrollLeft=i.getHeight=i.getWidth=r,i.rAF=o&&window.requestAnimationFrame.bind(window),o&&("loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";var n;!function(t){t[t.MEASURE=0]="MEASURE",t[t.MUTATE=1]="MUTATE"}(n||(n={})),e.RAFPhase=n;var o=function(){function t(){}return t.prototype.isMeasure=function(){return this.phase===n.MEASURE},t}();e.Frame=o}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};o=[n,e,n(7)],r=function(t,e,n){"use strict";var o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.intercept=function(t,e){return t.isMeasure()?(e.bcr=e.el.getBoundingClientRect(),!0):!1},e}(n["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e,n(3)],r=function(t,e,n){"use strict";var o=function(){function t(t,e){this.name=t,this.items=[],this.collect=e,this.stream=new n["default"](t+" output stream")}return t.prototype.push=function(t){this.items.push(t)},t.prototype.toStream=function(){return this.stream},t.prototype.tap=function(t){var e=this;this.items.map(function(n){return e.intercept(t,n)?n:e.collect(e.stream.write.bind(e.stream),t,n)})},t.prototype.intercept=function(t,e){return!1},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";var n=function(){function t(){}return t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e,n(2),n(5)],r=function(t,e,n,o){"use strict";var r=-1;Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n.measure.filter(function(t){var e=t.scrollTop;return t.phase===o.RAFPhase.MEASURE&&e!==r?(r=e,{timestamp:t.timestamp,position:e}):void 0})}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e,n(2)],r=function(t,e,n){"use strict";var o=-1,r=-1;Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n.measure.filter(function(t){var e=t.height,n=t.width;return n!==o||e!==r?(r=e,o=n,{width:o,height:r}):void 0})}.apply(e,o),!(void 0!==r&&(t.exports=r))}])});