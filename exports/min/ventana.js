!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ventana",[],e):"object"==typeof exports?exports.ventana=e():t.ventana=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var o,r;o=[n,e,n(3),n(5),n(6),n(7),n(1),n(8),n(1),n(2),n(2)],r=function(t,e,n,o,r,i,u,a,c,f,s){"use strict";function l(t){return function(){var e=m[t],n=e.length,o=0;for(o=0;n>o;o++)e[o].call(null)}}function p(t,e){m[t].push(e)}function d(t){A.push(t)}function h(t){var e={top:t.top+y,left:t.left+g,width:t.width,height:t.height};return e}function v(t){return t=t||{top:0,left:0,right:0,bottom:0},{top:y+t.top,left:g+t.left,height:E-t.top-t.bottom,width:w-t.left-t.right}}e.QueueElement=i["default"],e.RAFQueue=a["default"],e.RAFStream=c.raf,e.Stream=f["default"],e.stream=s.stream;var m={move:[],resize:[],destroy:[],hide:[],show:[]};o["default"].pipe(function(t){m.move.forEach(function(e){e.call(null,t)})}),r["default"].pipe(function(t){m.resize.forEach(function(e){e.call(null,t)})}),n["default"].hasDOM&&(window.addEventListener("unload",l("destroy")),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState?l("show")():l("hide")()}));var y=0,g=0,w=0,E=0,A=[];u.poll.pipe(function(t){for(y=t.scrollTop,g=t.scrollLeft,w=t.width,E=t.height;A.length>0;)A.pop().call(null,t)}),e.on=p,e.queue=d,e.mapBoundingRectToAbsolute=h,e.getWindowRect=v}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};o=[n,e,n(2),n(3),n(4)],r=function(t,e,n,o,r){"use strict";var u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.write=function(e){var n=new r.Frame;n.timestamp=e,n.phase=r.RAFPhase.MEASURE,n.scrollTop=o["default"].getScrollTop(),n.scrollLeft=o["default"].getScrollLeft(),n.width=o["default"].getWidth(),n.height=o["default"].getHeight(),t.prototype.write.call(this,n),n.phase=r.RAFPhase.MUTATE,t.prototype.write.call(this,n)},e}(n["default"]),a=new u("requestAnimationFrame");e.raf=a;var c=a.filter(function(t){return t.phase===r.RAFPhase.MEASURE?t:void 0});e.measure=c;var f=a.filter(function(t){return t.phase!==r.RAFPhase.MEASURE?t:void 0});e.poll=f;var s=function(){a.write(Date.now()),o["default"].rAF(s)};o["default"].rAF(s)}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";function n(t){return"function"==typeof t?new r(t):t instanceof r?t:void 0}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return t[0]=t[0]||new r,t.length>1?r.join.apply(null,t.map(n)):t[0]}var r=function(){function t(t){var e=this;this.name=name,"function"==typeof t?t.call(this,function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];e.write.apply(e,t)}):"string"==typeof t&&(this.name=t),this.targets=[],this.targetEndpoints=[]}return t.prototype.write=function(e){var n=this;this.targets.forEach(function(o,r){o instanceof t?o.write(e):"function"==typeof o?n.targetEndpoints[r].write(o(e)):"function"==typeof o.tap&&o.tap(e)})},t.prototype.pipe=function(e){if(this.targets.push(e),e instanceof t)return this.targetEndpoints.push(null),e;if(e instanceof Function){var n=new t;return this.targetEndpoints.push(n),n}return this.targetEndpoints.push(null),e.toStream()},t.join=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var o=new Array(e.length);return new t(function(t){var n=this;e.forEach(function(t,e){t.pipe(function(t){o[e]=t,n.write(o)})})})},t.prototype.filter=function(e,n){var o=this,r="function"!=typeof e&&e,i=!!r,u=i?n:e;return new t(function(t){o.pipe(function(e){var n=i?u(r,e):u(e);n&&t(n)})})},t}();e.stream=o,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";function n(){var t="undefined"!=typeof document.scrollingElement;i.getScrollTop=t?function(){return document.scrollingElement.scrollTop}:function(){return window.scrollY},i.getScrollLeft=t?function(){return document.scrollingElement.scrollLeft}:function(){return window.scrollX},i.getHeight=function(){return window.innerHeight},i.getWidth=function(){return window.innerWidth}}var o=function(){return 0},r=!("undefined"==typeof window||!window||"undefined"==typeof document||!document),i={hasDOM:r,getScrollTop:o,getScrollLeft:o,getHeight:o,getWidth:o,rAF:r&&window.requestAnimationFrame.bind(window)};r&&("loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";var n;!function(t){t[t.MEASURE=0]="MEASURE",t[t.MUTATE=1]="MUTATE"}(n||(n={})),e.RAFPhase=n;var o=function(){function t(){}return t.prototype.isMeasure=function(){return this.phase===n.MEASURE},t}();e.Frame=o}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e,n(1),n(4)],r=function(t,e,n,o){"use strict";var r=-1,i=-1;Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n.measure.filter(function(t){var e=t.scrollTop,n=t.scrollLeft;return t.phase!==o.RAFPhase.MEASURE||e===r&&n===i?void 0:(r=e,i=n,{timestamp:t.timestamp,scrollTop:r,scrollLeft:i})})}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e,n(1)],r=function(t,e,n){"use strict";var o=-1,r=-1;Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n.measure.filter(function(t){var e=t.height,n=t.width;return n!==o||e!==r?(r=e,o=n,{width:o,height:r}):void 0})}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e],r=function(t,e){"use strict";var n=function(){function t(){}return t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};o=[n,e,n(9)],r=function(t,e,n){"use strict";var o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.intercept=function(t,e){return t.isMeasure()?(e.bcr=e.el.getBoundingClientRect(),!0):!1},e}(n["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o}.apply(e,o),!(void 0!==r&&(t.exports=r))},function(t,e,n){var o,r;o=[n,e,n(2)],r=function(t,e,n){"use strict";var o=function(){function t(t,e){this.name=t,this.items=[],this.collect=e,this.stream=new n["default"](t+" output stream")}return t.prototype.push=function(t){this.items.push(t)},t.prototype.toStream=function(){return this.stream},t.prototype.tap=function(t){var e=this;this.items.map(function(n){return e.intercept(t,n)?n:e.collect(e.stream.write.bind(e.stream),t,n)})},t.prototype.intercept=function(t,e){return!1},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o}.apply(e,o),!(void 0!==r&&(t.exports=r))}])});